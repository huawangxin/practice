<html>
  <head>
    <title>citys.html</title>
	<meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <script type="text/javascript"
    		src="js/my.js"></script>
    <script type="text/javascript"
    		src="js/json.js"></script>
    <script type="text/javascript">
    	/*根据选中的城市,加载对应的区域信息*/
    	function getCity(cityValue){
    		var xhr = getXhr();
    		xhr.onreadystatechange=function(){
    			if(xhr.readyState==4&&xhr.status==200){
    				var result = 
    					xhr.responseText;
    				//将返回的字符串变成js数组
    				var arr = result.parseJSON();
    				$("s2").innerHTML="";
    				for(i=0;i<arr.length;i++){
    					var op = 
    						new Option(arr[i].name,arr[i].value);
    					//将新建立的option项添加到下拉框s2中
    					$("s2").options[i]=op;    					
    				}
    			}
    		};
    		xhr.open('get','getCity?cv='+cityValue,true);
    		xhr.send(null);
    	}
    </script>
  </head>
  
  <body>
    城市:
    <select onchange="getCity(this.value)">
    	<option value="bj">北京</option>
   		<option value="sh">上海</option>
   		<option value="gz">广州</option>
    </select><br>
    区域:
    <select id="s2" ></select>
  </body>
</html>